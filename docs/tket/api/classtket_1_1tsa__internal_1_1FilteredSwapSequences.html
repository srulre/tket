<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tket: tket::tsa_internal::FilteredSwapSequences Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tket
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetket.html">tket</a></li><li class="navelem"><a class="el" href="namespacetket_1_1tsa__internal.html">tsa_internal</a></li><li class="navelem"><a class="el" href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html">FilteredSwapSequences</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classtket_1_1tsa__internal_1_1FilteredSwapSequences-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tket::tsa_internal::FilteredSwapSequences Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Takes a raw list of integers, where each integer represents a swap sequence on the vertices {0,1,2,...,5} giving the same vertex permutation.  
 <a href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FilteredSwapSequences_8hpp_source.html">FilteredSwapSequences.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtket_1_1tsa__internal_1_1FilteredSwapSequences_1_1SingleSequenceData.html">SingleSequenceData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A result which comes from the "raw" table data in <a class="el" href="structtket_1_1tsa__internal_1_1SwapSequenceTable.html" title="For swaps on vertices {0,1,2,...,5}, return precomputed short swap sequences using given sets of edge...">SwapSequenceTable</a>, with minimal processing.  <a href="structtket_1_1tsa__internal_1_1FilteredSwapSequences_1_1SingleSequenceData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4134921ed86d31927fd3be3546b9e35c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#a4134921ed86d31927fd3be3546b9e35c">initialise</a> (std::vector&lt; <a class="el" href="structtket_1_1tsa__internal_1_1SwapConversion.html#a1456ce60c357ab31ab4ee3ea1e58f027">SwapConversion::SwapHash</a> &gt; codes)</td></tr>
<tr class="memdesc:a4134921ed86d31927fd3be3546b9e35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index and process the raw data to allow later retrieval.  <a href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#a4134921ed86d31927fd3be3546b9e35c">More...</a><br /></td></tr>
<tr class="separator:a4134921ed86d31927fd3be3546b9e35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa456cc3914f33c8e7cd24e1144c9162c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtket_1_1tsa__internal_1_1FilteredSwapSequences_1_1SingleSequenceData.html">SingleSequenceData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#aa456cc3914f33c8e7cd24e1144c9162c">get_lookup_result</a> (<a class="el" href="structtket_1_1tsa__internal_1_1SwapConversion.html#a273fc1fba2280a8eada6e29f2a1a35c7">SwapConversion::EdgesBitset</a> allowed_swaps, unsigned max_num_swaps) const</td></tr>
<tr class="memdesc:aa456cc3914f33c8e7cd24e1144c9162c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for the entry with fewest swaps whose edges_bitset is a subset of the given edges_bitset (so that it only uses allowed swaps).  <a href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#aa456cc3914f33c8e7cd24e1144c9162c">More...</a><br /></td></tr>
<tr class="separator:aa456cc3914f33c8e7cd24e1144c9162c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499ea77982581103416ba9bc11182019"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#a499ea77982581103416ba9bc11182019">get_total_number_of_entries</a> () const</td></tr>
<tr class="memdesc:a499ea77982581103416ba9bc11182019"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing, just count how many entries we've stored.  <a href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html#a499ea77982581103416ba9bc11182019">More...</a><br /></td></tr>
<tr class="separator:a499ea77982581103416ba9bc11182019"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Takes a raw list of integers, where each integer represents a swap sequence on the vertices {0,1,2,...,5} giving the same vertex permutation. </p>
<p>NOTE: the magic number 5 (or 6) arises because we originally constructed the table by exhaustively constructing swap sequences on graphs with up to 6 vertices, up to a certain length. [Results were also merged together, e.g. the cycle C_6, or with a few extra edges added, can be searched in reasonable time to a longer length than K_6]. This was chosen because the complete graph K_6 has 15 edges, so conveniently each edge (or swap) can be represented by a number 1-15, and thus by a single hexadecimal digit. Thus, 4 bits are needed for each swap, so a 64-bit integer can represent swap sequences of length &lt;= 16 (with 0 denoting the end of sequence). [Although, the table currently has entries only of length &lt;= 12]. [Actually, it is not hard to prove - by considering "token tracking" - that optimal swap sequences on &lt;= N vertices have length &lt;= N(N-1)/2, the same as the number of edges of K_N. Thus length &lt;= 15 already suffices to represent all possible optimal sequences on &lt;= 6 vertices]. If we used 5 bits, we'd be able to represent sequences of length &lt;= 12 (because 5*12 = 60 &lt; 64) on graphs with &lt;= 8 vertices (since 8*7/2 = 28 &lt; 31). If we expand the table in future, we will probably design a whole new format, so we don't attempt to make it more generic at this stage.</p>
<p>Given such data, <a class="el" href="classtket_1_1tsa__internal_1_1FilteredSwapSequences.html" title="Takes a raw list of integers, where each integer represents a swap sequence on the vertices {0,...">FilteredSwapSequences</a> knows how to index and store it somehow (exactly how is an implementation detail - it can be thought of as a "database of swap sequences"), so that results can be looked up again, when given the edges bitset (i.e., edges existing in the graph, i.e. vertex swaps we are allowed to perform). This is for data close to the raw table data; it knows nothing about vertex relabelling, which of course is a crucial component.</p>
<p>The main precomputed table of data is also accessed here, via the <a class="el" href="structtket_1_1tsa__internal_1_1FilteredSwapSequences_1_1SingleSequenceData.html" title="A result which comes from the &quot;raw&quot; table data in SwapSequenceTable, with minimal processing.">SingleSequenceData</a> constructor.</p>
<p>Note that the raw table contains several lists of integers, each one denoting different swap sequences enacting a single permutation, but with different edges; whereas this class only stores a single list in searchable form. </p>

<p class="definition">Definition at line <a class="el" href="FilteredSwapSequences_8hpp_source.html#l00066">66</a> of file <a class="el" href="FilteredSwapSequences_8hpp_source.html">FilteredSwapSequences.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa456cc3914f33c8e7cd24e1144c9162c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa456cc3914f33c8e7cd24e1144c9162c">&#9670;&nbsp;</a></span>get_lookup_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtket_1_1tsa__internal_1_1FilteredSwapSequences_1_1SingleSequenceData.html">FilteredSwapSequences::SingleSequenceData</a> tket::tsa_internal::FilteredSwapSequences::get_lookup_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtket_1_1tsa__internal_1_1SwapConversion.html#a273fc1fba2280a8eada6e29f2a1a35c7">SwapConversion::EdgesBitset</a>&#160;</td>
          <td class="paramname"><em>allowed_swaps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>max_num_swaps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for the entry with fewest swaps whose edges_bitset is a subset of the given edges_bitset (so that it only uses allowed swaps). </p>
<p>If there is no suitable sequence in the table, returns a null object. Stop searching early if it finds that all entries have too many swaps. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allowed_swaps</td><td>The swaps which can occur (in other words, the existing edges in the graph). </td></tr>
    <tr><td class="paramname">max_num_swaps</td><td>Don't return any entries with more than this many swaps. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An entry with the fewest swaps, or a null entry if none exists. </dd></dl>

<p class="definition">Definition at line <a class="el" href="FilteredSwapSequences_8cpp_source.html#l00143">143</a> of file <a class="el" href="FilteredSwapSequences_8cpp_source.html">FilteredSwapSequences.cpp</a>.</p>

</div>
</div>
<a id="a499ea77982581103416ba9bc11182019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499ea77982581103416ba9bc11182019">&#9670;&nbsp;</a></span>get_total_number_of_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tket::tsa_internal::FilteredSwapSequences::get_total_number_of_entries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For testing, just count how many entries we've stored. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of encoded swap sequences stored internally. </dd></dl>

<p class="definition">Definition at line <a class="el" href="FilteredSwapSequences_8cpp_source.html#l00214">214</a> of file <a class="el" href="FilteredSwapSequences_8cpp_source.html">FilteredSwapSequences.cpp</a>.</p>

</div>
</div>
<a id="a4134921ed86d31927fd3be3546b9e35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4134921ed86d31927fd3be3546b9e35c">&#9670;&nbsp;</a></span>initialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tket::tsa_internal::FilteredSwapSequences::initialise </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtket_1_1tsa__internal_1_1SwapConversion.html#a1456ce60c357ab31ab4ee3ea1e58f027">SwapConversion::SwapHash</a> &gt;&#160;</td>
          <td class="paramname"><em>codes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index and process the raw data to allow later retrieval. </p>
<p>Can only be done once (a security measure to avoid accidentally reconstructing large tables multiple times). The codes don't need to be sorted OR deduplicated. Duplicate, redundant and suboptimal data IS tolerated, as long as it is correct. Such data could lead to slowdowns from a larger table, BUT will not affect the actual results (i.e., if the data contains some entries inferior to others, then the inferior results will automatically never be returned, because the superior ones will always be found). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codes</td><td>The raw list of integers stored in the original table </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="FilteredSwapSequences_8cpp_source.html#l00085">85</a> of file <a class="el" href="FilteredSwapSequences_8cpp_source.html">FilteredSwapSequences.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/TokenSwapping/include/TokenSwapping/<a class="el" href="FilteredSwapSequences_8hpp_source.html">FilteredSwapSequences.hpp</a></li>
<li>src/TokenSwapping/TableLookup/<a class="el" href="FilteredSwapSequences_8cpp_source.html">FilteredSwapSequences.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
